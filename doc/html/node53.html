<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Streams</TITLE>
<META NAME="description" CONTENT="Streams">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="manual.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html2570" HREF="node54.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html2568" HREF="node52.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html2562" HREF="node52.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html2572" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html2573" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html2571" HREF="node54.html">Reader</A>
<B>Up:</B> <A NAME="tex2html2569" HREF="node52.html">Streams and Input/Output</A>
<B> Previous:</B> <A NAME="tex2html2563" HREF="node52.html">Streams and Input/Output</A>
<BR> <P>
<H2><A NAME="SECTION03081000000000000000">Streams</A></H2>
<P>
Echo-streams and concatenated-streams are not available.
Predefined streams are following:
<P>
<DL ><DT><STRONG>*standard-input*</STRONG>
<DD> stdin fd=0
<DT><STRONG>*standard-output*</STRONG>
<DD> stdout fd=1 
<DT><STRONG>*error-output*</STRONG>
<DD> stderr fd=2 bufsize=1
<DT><STRONG>*terminal-io*</STRONG>
<DD> two-way stream made of 
<B>*standard-input*</B> and <B>*standard-output*</B>
<P>
 </DL>
<P>
<A NAME=7940>&#160;</A>
<B>streamp</B> <EM>object </EM>[function] 
<UL><LI> Any object created from <A NAME=7952>&#160;</A><B>s</B>tream, <A NAME=7954>&#160;</A><B>i</B>o-stream,
or their subclasses returns T.
</UL>
<A NAME=7956>&#160;</A>
<B>input-stream-p</B> <EM>object </EM>[function] 
<UL><LI> T if <EM>object is a stream and capable of reading.
</UL>
<A NAME=7967>&#160;</A>
<B>output-stream-p</B> <EM>object </EM>[function] 
<UL><LI> T if <EM>object is a stream and capable of writing.
</UL>
<A NAME=7978>&#160;</A>
<B>io-stream-p</B> <EM>object </EM>[function] 
<UL><LI> T if <EM>object is a two-way stream.
</UL>
<A NAME=7989>&#160;</A>
<P> <IMG  ALIGN=BOTTOM ALT="emtabbing7990" SRC="img29.gif"  > <P>
<UL><LI> 
<B>Open</B> makes a stream associated with a file designated by <EM>path.
<EM>path</EM> may either be a string or a pathname.
Direction should be one of <B>:input, :output</B> or <B>:io</B>.
Several open options, <B>:append, :new-version, :overwrite, :error</B>
and nil are allowed for <B>:if-exists</B> parameter.
However, this parameter is ignored when <EM>direction</EM> is <B>:input</B>.
Alternatives for <B>:if-does-not-exist</B> are
<B>:error, :create</B> and nil.
<B>:new-version</B>, <B>:rename</B> and <B>:supersede</B>
are not recognized.
By default, the file is overwritten if <EM>direction</EM> is either
<B>:output</B> or <B>:io</B>  when the file exists.
For :input files, an error is reported when the file does not exist.
To know the existence of a file, <B>probe-file</B> can be used.
Default value for <B>buffer-size</B> is 512 bytes,
and #O644 for <B>:permission</B>.
SunOS4 allows to open as many as sixty files at the same time.
<P>
</UL>
<A NAME=8020>&#160;</A>
<B>with-open-file</B> <EM>(svar path . open-options) &amp;rest forms </EM>[macro] 
<UL><LI> A file named <EM>path is opened with <EM>open-options</EM> and the
stream is bound to <EM>svar</EM>.
Then <EM>forms</EM> are evaluated.
The stream is automatically closed when evaluation of <EM>forms</EM> finishes
or exits with <B>throw</B>, <B>return-from</B> or error.
<B>With-open-file</B> is a macro defined by <B>unwind-protect</B> with <B>close</B>
in its clean-up forms.
</UL>
<A NAME=8040>&#160;</A>
<B>close</B> <EM>stream </EM>[function] 
<UL><LI> closes the <EM>stream, and returns T if successful.
The stream may have already been closed, in which case nil is returned.
Streams are automatically closed by GC if there is no reference to
that stream object.
</UL>
<A NAME=8051>&#160;</A>
<B>make-string-input-stream</B> <EM>string </EM>[function] 
<UL><LI> makes an input stream from a string.
</UL>
<A NAME=8061>&#160;</A>
<B>make-string-output-stream</B> <EM>size </EM>[function] 
<UL><LI> makes an output stream to a string of <EM>size length.
Actually, the length is automatically expanded, so <EM>size is only 
advisory information to allocate string at initialization.
</UL>
<A NAME=8073>&#160;</A>
<B>get-output-stream-string</B> <EM>string-stream </EM>[function] 
<UL><LI> gets a string out of a <EM>string-stream.
</UL>
<A NAME=8084>&#160;</A>
<B>make-broadcast-stream</B> <EM>&amp;rest output-streams </EM>[function] 
<UL><LI> makes a broad-cast stream which forwards all the messages written to
this stream to each of <EM>output-streams.
</UL>
<P>
</EM></EM></EM></EM></EM></EM></EM></EM></EM></EM><HR><A NAME="tex2html2570" HREF="node54.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html2568" HREF="node52.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html2562" HREF="node52.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html2572" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html2573" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html2571" HREF="node54.html">Reader</A>
<B>Up:</B> <A NAME="tex2html2569" HREF="node52.html">Streams and Input/Output</A>
<B> Previous:</B> <A NAME="tex2html2563" HREF="node52.html">Streams and Input/Output</A>
<P><ADDRESS>
<I>Hirofumi Nakagaki <BR>
Tue Mar 19 19:45:39 JST 1996</I>
</ADDRESS>
</BODY>
</HTML>
