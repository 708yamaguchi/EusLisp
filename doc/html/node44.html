<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Packages</TITLE>
<META NAME="description" CONTENT="Packages">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="manual.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html2448" HREF="node45.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html2446" HREF="node42.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html2442" HREF="node43.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html2450" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html2451" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html2449" HREF="node45.html">SequencesArrays and Tables</A>
<B>Up:</B> <A NAME="tex2html2447" HREF="node42.html">Symbols and Packages</A>
<B> Previous:</B> <A NAME="tex2html2443" HREF="node43.html">Symbols</A>
<BR> <P>
<H2><A NAME="SECTION03062000000000000000">Packages</A></H2>
<P>
Packages provide separate name spaces for groups of symbols.
Common Lisp introduced the package system in order to reduce the
symbol (function and variable name) conflict problems 
in the course of developing huge software systems
which require more than one programmer to work together.
Each package may have internal symbols and external symbols.
When a symbol is created in a package, it is always internal,
and it becomes external by <B>export</B>. External symbols in different
packages are referenced by prefixing the package name and a single colon,
as <TT>x:*display*</TT>, while referencing internal symbols in other packages
requires double colons, as <TT>sys::free-threads</TT>.
In order to omit this package prefixing, a package may <A NAME=4468>&#160;</A><B>i</B>mport symbols
from other packages.
Moreover, <A NAME=4470>&#160;</A><B>u</B>se-package allows importing all external symbols
from another package at once.
When symbols are exported or imported, symbol name conflicts can be detected,
since every symbol in any packages must have the unique print name.
<A NAME=4472>&#160;</A><B>S</B>hadow allows creating a symbol with the same print name as the
existing symbol in a package by virtually removing the old symbol from 
the package.
<P>
EusLisp defines following eight packages;
<DL ><DT><STRONG>lisp:</STRONG>
<DD> All the lisp functions, macros, constants, etc.
<DT><STRONG>keyword:</STRONG>
<DD> keyword symbols 
<DT><STRONG>unix:</STRONG>
<DD> unix system calls and library functions
<DT><STRONG>system:</STRONG>
<DD> system management or dangerous functions; nicknames=sys,si
<DT><STRONG>compiler:</STRONG>
<DD> EusLisp compiler; nicknames=comp
<DT><STRONG>user:</STRONG>
<DD> User's work space
<DT><STRONG>geometry:</STRONG>
<DD> geometric classes and functions
<DT><STRONG>xwindow:</STRONG>
<DD> X-window interface; nickname=x
<P>
 </DL>
<P>
These packages and user-defined packages are linked in the system's 
package list, which can be obtained by <B>list-all-packages</B>.
Each package manages two hash tables to find and locate internal and
external symbols.
Also, a package records its name (string or symbol) and a list of nick names,
and a list of other packages that the package is using.
<B>*Package*</B> is a special variable
that holds the current package for read and print.
If <A NAME=4474>&#160;</A><B>*</B>package* is not <TT>user:</TT>,
top-level prompt changes to indicate the current package,
like <TT>mypkg:eus</TT>$.
<P>
<A NAME=4476>&#160;</A>
<B>*lisp-package*</B> <EM></EM>[constant] 
<UL><LI> Lisp package.
</UL>
<A NAME=4486>&#160;</A>
<B>*user-package*</B> <EM></EM>[constant] 
<UL><LI> User package.
</UL>
<A NAME=4496>&#160;</A>
<B>*unix-package*</B> <EM></EM>[constant] 
<UL><LI> Unix package.
</UL>
<A NAME=4506>&#160;</A>
<B>*system-package*</B> <EM></EM>[constant] 
<UL><LI> System Package.
</UL>
<A NAME=4516>&#160;</A>
<B>*keyword-package*</B> <EM></EM>[constant] 
<UL><LI> Keyword Package.
</UL>
<A NAME=4526>&#160;</A>
<B>find-symbol</B> <EM>string &amp;optional (package *package*) </EM>[function] 
<UL><LI> finds and locates the symbol which has <EM>string as its print name
in <EM>pacakge. If found, the symbol is returned, NIL otherwise.
</UL>
<A NAME=4538>&#160;</A>
<B>make-symbol</B> <EM>string </EM>[function] 
<UL><LI> makes a new uninterned symbol by the print name of <EM>string.
</UL>
<A NAME=4549>&#160;</A>
<B>intern</B> <EM>string &amp;optional (package *package*) (klass symbol) </EM>[function] 
<UL><LI> tries to find a symbol whose print-name is same with <EM>string.
If the search succeeds, the symbol is returned.
If fails, a symbol whose print-name is <EM>string is newly made,
and is located in <EM>package.
</UL>
<A NAME=4562>&#160;</A>
<B>list-all-packages</B> <EM></EM>[function] 
<UL><LI> returns the list of all packages ever made.
</UL>
<A NAME=4572>&#160;</A>
<B>find-package</B> <EM>name </EM>[function] 
<UL><LI> find the package whose name or nickname is equal to the <EM>name string.
</UL>
<A NAME=4583>&#160;</A>
<B>make-package</B> <EM>name &amp;key nicknames (use '(lisp)) </EM>[function] 
<UL><LI> makes a new package by the name of <EM>name.
<EM>Name can either be a string or a symbol.
If the package already exists, error is reported.
</UL>
<A NAME=4595>&#160;</A>
<B>in-package</B> <EM>pkg &amp;key nicknames (uses '(lisp)) </EM>[function] 
<UL><LI> changes the current pacakge (the value of <B>*pacakge*</B>)
to <EM>pkg.
</UL>
<A NAME=4607>&#160;</A>
<B>package-name</B> <EM>pkg </EM>[function] 
<UL><LI> returns the string name of the <EM>pkg package.
</UL>
<A NAME=4618>&#160;</A>
<B>package-nicknames</B> <EM>pkg </EM>[function] 
<UL><LI> returns a list of nicknames of <EM>pkg.
</UL>
<A NAME=4629>&#160;</A>
<B>rename-package</B> <EM>pkg new-name &amp;optional new-nicknames </EM>[function] 
<UL><LI> changes the name of <EM>pkg to <EM>new-name and its nicknames 
to <EM>new-nicknames, which can either be a symbol, a string,
or a list of symbols or strings.
</UL>
<A NAME=4642>&#160;</A>
<B>package-use-list</B> <EM>pkg </EM>[function] 
<UL><LI> returns the list of packages which are used by <EM>pkg.
</UL>
<A NAME=4653>&#160;</A>
<B>packagep</B> <EM>pkg </EM>[function] 
<UL><LI> T if <EM>pkg is a package.
</UL>
<A NAME=4664>&#160;</A>
<B>use-package</B> <EM>pkg &amp;optional (curpkg *package*) </EM>[function] 
<UL><LI> adds <EM>pkg to <EM>curpkg</EM>'s use-list.
Once added, symbols in <EM>pkg</EM> become visible from <EM>curpkg</EM>
without package prefix.
</UL>
<A NAME=4678>&#160;</A>
<B>unuse-package</B> <EM>pkg &amp;optional (curpkg *package*) </EM>[function] 
<UL><LI> removes <EM>pkg from <EM>curpkg</EM>'s use-list.
</UL>
<A NAME=4690>&#160;</A>
<B>shadow</B> <EM>sym &amp;optional(pkg *package*) </EM>[function] 
<UL><LI> makes a symbol interned in <EM>pkg, 
by hiding existing <EM>sym</EM>.
</UL>
<A NAME=4702>&#160;</A>
<B>export</B> <EM>sym &amp;optional (pkg *package*) </EM>[function] 
<UL><LI> <EM>sym is a symbol or a list of symbols.
<B>export</B> makes <EM>sym</EM> accessible from other packages as
external symbol(s).
Actually, <EM>sym</EM> is registered as an external symbol in <EM>pkg</EM>.
If a symbol is exported, it becomes accessible using a single colon &quot;:&quot;
as package marker, whereas unexported symbols require double colons.
In addition, exported symbols do not need colons when they are used
by <B>use-package</B> or they are imported into the package.
Whether a symbol is exported or not is attributed to packages where
it is interned, not to each symbol.
So, a symbol can be internal in a package and external in another.
<B>Export</B> checks <EM>sym</EM> to have name conflict with
symbols in other packages using <EM>pkg</EM>.
If there is  a symbol having the same print name with <EM>sym</EM>,
``symbol conflict&quot; error is reported.
</UL>
<A NAME=4722>&#160;</A>
<B>unexport</B> <EM>sym &amp;optional pkg </EM>[function] 
<UL><LI> If <EM>sym is an external symbol in <EM>pkg</EM>, it is unexported
and becomes an internal symbol.
</UL>
<A NAME=4734>&#160;</A>
<B>import</B> <EM>sym &amp;optional (pkg *package*) </EM>[function] 
<UL><LI> <EM>sym is a symbol or a list of symbols.
<B>import</B> makes symbols defined in other packages
visible in <EM>pkg</EM> as an internal symbol without package prefix.
If there is already a symbol that has the same print name as <EM>sym</EM>,
then an ``name conflict&quot; error is reported.
</UL>
<A NAME=4748>&#160;</A>
<B>do-symbols</B> <EM>(var pkg) &amp;rest forms </EM>[macro] 
<UL><LI> repeats evaluatiing  forms for each binding of <EM>var
to symbols (internal or external) in <EM>pkg</EM>.
</UL>
<A NAME=4760>&#160;</A>
<B>do-external-symbols</B> <EM>(var pkg) &amp;rest forms </EM>[macro] 
<UL><LI> repeats evaluating forms for each binding of <EM>var
to external symbols in <EM>pkg</EM>.
</UL>
<A NAME=4772>&#160;</A>
<B>do-all-symbols</B> <EM>(var [result]) &amp;rest forms </EM>[macro] 
<UL><LI> repeats evaluating forms for each binding of <EM>var
to symbols in all packages.
Note that forms may be evaluated more than once to a symbol if it
appears more than one package.
</UL>
<P>
</EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM><HR><A NAME="tex2html2448" HREF="node45.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html2446" HREF="node42.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html2442" HREF="node43.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html2450" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html2451" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html2449" HREF="node45.html">SequencesArrays and Tables</A>
<B>Up:</B> <A NAME="tex2html2447" HREF="node42.html">Symbols and Packages</A>
<B> Previous:</B> <A NAME="tex2html2443" HREF="node43.html">Symbols</A>
<P><ADDRESS>
<I>Hirofumi Nakagaki <BR>
Tue Mar 19 19:45:39 JST 1996</I>
</ADDRESS>
</BODY>
</HTML>
