<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Line and Edge</TITLE>
<META NAME="description" CONTENT="Line and Edge">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="manual.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html3395" HREF="node112.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html3393" HREF="node109.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html3387" HREF="node110.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html3397" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html3398" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3396" HREF="node112.html">Plane and Face</A>
<B>Up:</B> <A NAME="tex2html3394" HREF="node109.html">Geometric Modeling</A>
<B> Previous:</B> <A NAME="tex2html3388" HREF="node110.html">Miscellaneous Geometric Functions</A>
<BR> <P>
<H2><A NAME="SECTION04042000000000000000">Line and Edge</A></H2>
<P>
The direction of the vertex loop or the edge loop
is defined so that the vertices or edges  are arranged
in the counter-clockwise order when the body is observed from outside.
<EM>Pvertex</EM> and <EM>nvertex</EM>, and <EM>pface</EM> and <EM>nface</EM>
are determined so that an edge is
oriented from <EM>pvertex</EM> toward <EM>nvertex</EM>
when <EM>pface</EM> is located at the left
of the edge observing them from outside.
<P>
<A NAME=16330>&#160;</A>
<B>line </B> [class]  <PRE><TT> :super B<>propertied-object</B>
<P>
:slots 		 ((pvert :type float-vector)
(nvert :type float-vector))
<P>
</TT></PRE>
<UL><LI> defines a line passing on pvert and nvert.
The line is directed from <EM>pvert</EM> to <EM>nvert</EM> in the parametric
representation:  <IMG  ALIGN=MIDDLE ALT="tex2html_wrap_inline28373" SRC="img52.gif"  > .
</UL>
<A NAME=16349>&#160;</A>
<B>:vertices</B> <EM></EM>[method] 
<UL><LI> returns the list of <EM>pvert and <EM>nvert</EM>.
</UL>
<A NAME=16361>&#160;</A>
<B>:point</B> <EM>p </EM>[method] 
<UL><LI> returns a three dimensional float-vector that corresponds to the 
<EM>p parameter on this line.
 <IMG  ALIGN=MIDDLE ALT="tex2html_wrap_inline28375" SRC="img53.gif"  > </UL>
<A NAME=16372>&#160;</A>
<B>:parameter</B> <EM>point </EM>[method] 
<UL><LI> Computes the parameter for <EM>point on this line.
This is the inverse method of <TT>:point</TT>.
</UL>
<A NAME=16384>&#160;</A>
<B>:direction</B> <EM></EM>[method] 
<UL><LI> returns a normalized vector from <B>pvert</B> to <B>nvert</B>.
</UL>
<A NAME=16396>&#160;</A>
<B>:end-point</B> <EM>v </EM>[method] 
<UL><LI> returns the other end-point of this line, i.e.
if <EM>v is <EM>eq to <TT>pvert</TT>, <TT>nvert</TT> is returned,
if <EM>v</EM> is <EM>eq</EM> to <TT>nvert</TT>, <TT>pvert</TT> is returned,
otherwise NIL.
</UL>
<A NAME=16414>&#160;</A>
<B>:box</B> <EM></EM>[method] 
<UL><LI> creates and returns a <B>bounding-box</B> of this line.
</UL>
<A NAME=16425>&#160;</A>
<B>:boxtest</B> <EM>box </EM>[method] 
<UL><LI> checks intersection between <EM>box and the bounding-box of this line.
</UL>
<A NAME=16436>&#160;</A>
<B>:length</B> <EM></EM>[method] 
<UL><LI> returns the length of this line.
</UL>
<A NAME=16446>&#160;</A>
<B>:distance</B> <EM>point-or-line </EM>[method] 
<UL><LI> returns the distance between the <EM>point-or-line and this line.
If the foot of the vertical line from the <EM>point
to this line does not lie between pvertex and nvertex,
the distance to the closest end-point is returned.
Using this method to calculate the distance between two lines,
interference between two cylinders can be tested.
</UL>
<A NAME=16458>&#160;</A>
<B>:foot</B> <EM>point </EM>[method] 
<UL><LI> finds the parameter for the point which is the foot of the vertical
line from <EM>point to this line.
</UL>
<A NAME=16469>&#160;</A>
<B>:common-perpendicular</B> <EM>l </EM>[method] 
<UL><LI> finds the line which is vertical both to this line and to <EM>l
and returns a list of two 3D float-vectors.
</UL>
<A NAME=16480>&#160;</A>
<B>:project</B> <EM>plane </EM>[method] 
<UL><LI> returns a list of two points that are the projection of pvert of nvert
onto <EM>plane.
When  two lines are in parallel and a common perpendicular line cannot
be determined uniquely, <TT>parallel</TT> is returned.
</UL>
<A NAME=16492>&#160;</A>
<B>:collinear-point</B> <EM>point &amp;optional (tolerance *coplanar-threshold*) </EM>[method] 
<UL><LI> checks whether <EM>point is collinear to this line with the tolerance of
<EM>tolerance using <B>collinear-p</B>.
If <EM>point</EM> is collinear to this line,
the parameter for the point on the line is returned, otherwise NIL.
</UL>
<A NAME=16506>&#160;</A>
<B>:on-line-point</B> <EM>point &amp;optional (tolerance *coplanar-threshold*) </EM>[method] 
<UL><LI> checks whether the <EM>point is collinear to this line,
and the <EM>point</EM> lies on the part of the line
between <EM>pvert</EM> and <EM>nvert</EM>.
</UL>
<A NAME=16520>&#160;</A>
<B>:collinear-line</B> <EM>ln &amp;optional (tolerance *coplanar-threshold*) </EM>[method] 
<UL><LI> checks if <EM>ln is collinear to this line, i.e. if the two end-points
of <EM>ln</EM> lie on this line.
T or NIL is returned.
</UL>
<A NAME=16532>&#160;</A>
<B>:coplanar</B> <EM>ln &amp;optional (tolerance *coplanar-threshold*) </EM>[method] 
<UL><LI> checks if this line and <EM>ln are coplanar.
Two end-points of this line and one end-point of <EM>ln</EM> defines a plane.
If another end-point of <EM>ln</EM> is on the plane, T is returned,
otherwise NIL.
</UL>
<A NAME=16545>&#160;</A>
<B>:intersection</B> <EM>ln </EM>[method] 
<UL><LI> <EM>ln is a line coplanar with this line.
<B>:Intersection</B> returns a list of two parameters for the intersection
point of these two lines.
A parameter may be any float number, but a parameter between 0 and 1
means an actual intersection on the line segmented by two end-points.
NIL if they are in parallel.
</UL>
<A NAME=16557>&#160;</A>
<B>:intersect-line</B> <EM>ln </EM>[method] 
<UL><LI> <EM>ln is a line coplanar with this line.
Two parameters of the intersecting point
is returned along with symbolic information such as
<TT>:parallel, :collinear,</TT> and  <TT>:intersect</TT>.
</UL>
<A NAME=16571>&#160;</A>
<B>edge </B> [class]  <PRE><TT> :super B<>line</B>
<P>
:slots 		 (pface nface
<P>
 		 (angle :type float)
<P>
 		 (flags :type integer))
<P>
</TT></PRE>
<UL><LI> represents an edge defined as the intersection between two faces.
Though <EM>pface</EM> and <EM>nface</EM> are statically defined in the slots,
their interpretations are relative to the direction of this edge.
For example, <EM>pface</EM> represents the correct pface when this edge
is considered to goes from <EM>pvert</EM> toward <EM>nvert</EM>.
So,  pvert and nvert in your interpretation must be given to the <B>:pface</B>
and <B>:nface</B> methods to select the appropriate face.
</UL>
<A NAME=16595>&#160;</A>
<B>make-line</B> <EM>point1 point2 </EM>[function] 
<UL><LI> creates an instance of <B>line</B> whose pvert is <EM>point1 and
nvert is <EM>point2</EM>.
</UL>
<A NAME=16608>&#160;</A>
<B>:pvertex</B> <EM>pf </EM>[method] 
<UL><LI> returns pvertex when <EM>face is regarded as the pface of this edge.
</UL>
<A NAME=16619>&#160;</A>
<B>:nvertex</B> <EM>face </EM>[method] 
<UL><LI> returns nvertex regarding <EM>face as the pface of this edge.
</UL>
<A NAME=16630>&#160;</A>
<B>:body</B> <EM></EM>[method] 
<UL><LI> returns the body object that defines this edge.
</UL>
<A NAME=16640>&#160;</A>
<B>:pface</B> <EM>pv nv </EM>[method] 
<UL><LI> returns pface when the <EM>pv and <EM>nv
are interpreted as the virtual pface and nface of this edge, respectively.
</UL>
<A NAME=16652>&#160;</A>
<B>:nface</B> <EM>pv nv </EM>[method] 
<UL><LI> returns nface when the <EM>pv and <EM>nv</EM>
are interpreted as the virtual pface and nface of this edge, respectively.
</UL>
<A NAME=16664>&#160;</A>
<B>:binormal</B> <EM>aface </EM>[method] 
<UL><LI> finds the direction vector which is perpendicular both to this line and to
the normal of <EM>aface.
</UL>
<A NAME=16675>&#160;</A>
<B>:angle</B> <EM></EM>[method] 
<UL><LI> returns the angle between two faces connected with this edge.
</UL>
<A NAME=16685>&#160;</A>
<B>:set-angle</B> <EM></EM>[method] 
<UL><LI> computes the angle between two faces connected with this edge and 
stores it in the angle slot.
</UL>
<A NAME=16695>&#160;</A>
<B>:invert</B> <EM></EM>[method] 
<UL><LI> </UL>
<A NAME=16706>&#160;</A>
<B>:set-face</B> <EM>pv nv f </EM>[method] 
<UL><LI> sets the <EM>f face as a pface regarding <EM>pv as the pvertex
and <EM>nv as the nvertex.
Note that this may change either pface or nface of this edge.
</UL>
<A NAME=16719>&#160;</A>
<B>:contourp</B> <EM>viewpoint </EM>[method] 
<UL><LI> T if this is a contour edge, i.e., either pface or nface of this edge is
visible and the other is invisible from <EM>viewpoint.
</UL>
<A NAME=16730>&#160;</A>
<B>:approximated-p</B> <EM></EM>[method] 
<UL><LI> T if this edge is an approximated edge representing curved surface
like the side of a cylinder.
Approximated edges are needed to represent curves by segmented straight
lines.
<P>
</UL>
<A NAME=16740>&#160;</A>
<B>:set-approximated-flag</B> <EM>&amp;optional (threshold 0.7) </EM>[method] 
<UL><LI> In EusLisp, every curved surface is approximated with many planar faces.
The LSB of <TT>flags</TT> is used to indicate that the faces on the both
sides of this edge are curved faces.
<B>:set-approximated-flag</B> sets this flag to T, if the angle between
two faces is greater than <EM>threshold.
</UL>
<A NAME=16753>&#160;</A>
<B>:init</B> <EM>&amp;key :pface :nface :pvertex :nvertex </EM>[method] 
<UL><LI> </UL>
<P>
</EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM><HR><A NAME="tex2html3395" HREF="node112.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html3393" HREF="node109.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html3387" HREF="node110.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html3397" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html3398" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3396" HREF="node112.html">Plane and Face</A>
<B>Up:</B> <A NAME="tex2html3394" HREF="node109.html">Geometric Modeling</A>
<B> Previous:</B> <A NAME="tex2html3388" HREF="node110.html">Miscellaneous Geometric Functions</A>
<P><ADDRESS>
<I>Hirofumi Nakagaki <BR>
Tue Mar 19 19:45:39 JST 1996</I>
</ADDRESS>
</BODY>
</HTML>
