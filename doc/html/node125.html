<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Animation</TITLE>
<META NAME="description" CONTENT="Animation">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="manual.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html3565" HREF="node126.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html3563" HREF="node119.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html3559" HREF="node124.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html3567" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html3568" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3566" HREF="node126.html">Xwindow Interface</A>
<B>Up:</B> <A NAME="tex2html3564" HREF="node119.html">Viewing and Graphics</A>
<B> Previous:</B> <A NAME="tex2html3560" HREF="node124.html">Drawings</A>
<BR> <P>
<H2><A NAME="SECTION04056000000000000000">Animation</A></H2>
<P>
<A NAME=18464>&#160;</A>
EusLisp's animation facility provides the pseudo real-time
graphics on stock workstations without graphics accelerators.
The basic idea is the quick playback of a series of images which have been
generated after long computation.
Images are retained in two ways:
one is to keep a number of xwindow pixmaps each of which holds a complete
pixel image, and the other is to keep line segment data obtained by
hidden-line elimination.
The former is faster and the only way for rendered images,
but not suitable for a long animation since it requires much memory
in the X server.
The latter is more memory efficient and suitable for storing data in disks,
but the performance is degraded
when the number of line segments increases.
<P>
In either way, the user provide a function which gives new configurations
to the objects to be drawn and generates drawing on <TT>*viewer*</TT>.
<B>pixmap-animation</B> calls this function as many times as
specified by the <EM>count</EM> argument.
After each call, the content of <TT>*viewsurface*</TT>, which is assumed to
be an xwindow, is copied to a newly created Xwindow pixmap.
These pixmaps are played back by <B>playback-pixmaps</B>.
Similarly, <B>hid-lines-animation</B> extracts visible line segments
from the result of <B>hid</B>, and accumulates them in a list.
The list is then played back by <B>playback-hid-lines</B>.
<P>
Following functions are defined in <TT>llib/animation.l</TT>, and
<TT>demo/animdemo.l</TT> contains a sample animation program
using <B>hid-lines-animation</B> on the ETA3 manipulator model.
<P>
<A NAME=19577>&#160;</A>
<B>pixmap-animation</B> <EM>count &amp;rest forms </EM>[macro] 
<UL><LI> <EM>forms are evaluated <EM>count</EM> times.
After each evaluation, the content of <TT>*viewsurface*</TT> is copied 
in a new pixmap. A list of <EM>count</EM> pixmaps is returned.
</UL>
<A NAME=19591>&#160;</A>
<B>playback-pixmaps</B> <EM>pixmaps &amp;optional (surf *viewsurface*) </EM>[function] 
<UL><LI> Each pixmap in the <EM>pixmaps list is copied to <EM>surf</EM> successively.
<P>
</UL>
<A NAME=19603>&#160;</A>
<B>hid-lines-animation</B> <EM>count &amp;rest forms </EM>[macro] 
<UL><LI> <EM>forms, which are assumed to include call(s) to <B>hid</B>,
are evaluated <EM>count</EM> times.
After each evaluation, 
the result of <B>hid</B> held in <B>*hid*</B> is scanned and visible segments
are collected in a list of point pairs.
A list of length <EM>count</EM> is returned.
</UL>
<A NAME=19619>&#160;</A>
<B>playback-hid-lines</B> <EM>lines &amp;optional (view *viewer*) </EM>[function] 
<UL><LI> <EM>lines is a list of lists of point pairs.
draws lines successively on <EM>view</EM>.
Double buffering technique allocating another pixmap 
is used to generate flicker-free animation.
</UL>
<A NAME=19631>&#160;</A>
<B>list-visible-segments</B> <EM>hid-result </EM>[function] 
<UL><LI> collects visible segments from the list of edge-images <EM>hid-result.
</UL>
<P>
</EM></EM></EM></EM></EM><HR><A NAME="tex2html3565" HREF="node126.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html3563" HREF="node119.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html3559" HREF="node124.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html3567" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html3568" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3566" HREF="node126.html">Xwindow Interface</A>
<B>Up:</B> <A NAME="tex2html3564" HREF="node119.html">Viewing and Graphics</A>
<B> Previous:</B> <A NAME="tex2html3560" HREF="node124.html">Drawings</A>
<P><ADDRESS>
<I>Hirofumi Nakagaki <BR>
Tue Mar 19 19:45:39 JST 1996</I>
</ADDRESS>
</BODY>
</HTML>
