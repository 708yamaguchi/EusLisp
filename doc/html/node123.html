<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Viewer</TITLE>
<META NAME="description" CONTENT="Viewer">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="manual.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html3543" HREF="node124.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html3541" HREF="node119.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html3535" HREF="node122.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html3545" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html3546" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3544" HREF="node124.html">Drawings</A>
<B>Up:</B> <A NAME="tex2html3542" HREF="node119.html">Viewing and Graphics</A>
<B> Previous:</B> <A NAME="tex2html3536" HREF="node122.html">Viewport</A>
<BR> <P>
<H2><A NAME="SECTION04054000000000000000">Viewer</A></H2>
<P>
To get a drawing  on a screen, four objects are needed:
(1) objects to be drawn, (2) a viewing which defines the viewing coordinates
and the projection, (3) a viewport for clipping in NDC and
the transformation from NDC to physical screen coordinates,
and (4) a viewsurface which performs drawing functions on
a physical display device.
A <B>viewer</B> object holds a viewing, a viewport and a viewsurface object,
and controls successive coordinates transformation. 
Functions <B>draw</B> and <B>hid</B> described in section <A HREF="node124.html#Drawings">15.5</A>
use the instances of viewer.
<P>
<A NAME=19047>&#160;</A>
<B>viewer </B> [class]  <PRE><TT> :super B<>object</B>
<P>
:slots 		 (eye :type viewint)
<P>
		 (port :type viewport)
<P>
		 (surface :type viewsurface)
<P>
</TT></PRE>
<UL><LI> defines the cascaded coordinates transformation from the viewing via
the viewport to the viewsurface.
</UL>
<A NAME=19064>&#160;</A>
<B>:viewing</B> <EM>&amp;rest msg </EM>[method] 
<UL><LI> If <EM>msg is given, <EM>msg</EM> is sent to the viewing (eye) object,
Otherwise, the viewing (eye) object is returned.
</UL>
<A NAME=19076>&#160;</A>
<B>:viewport</B> <EM>&amp;rest msg </EM>[method] 
<UL><LI> If <EM>msg is given, <EM>msg</EM> is sent to the viewport (port) object,
Otherwise, the viewport (port) object is returned.
</UL>
<A NAME=19088>&#160;</A>
<B>:viewsurface</B> <EM>&amp;rest msg </EM>[method] 
<UL><LI> If <EM>msg is given, <EM>msg</EM> is sent to the viewsurface (surface) object,
Otherwise, the viewsurface (surface) object is returned.
</UL>
<A NAME=19100>&#160;</A>
<B>:adjust-viewport</B> <EM></EM>[method] 
<UL><LI> When the size of viewsurface has been changed, <B>:adjust-viewport</B>
changes viewport transformation sending a proper message to port.
</UL>
<A NAME=19111>&#160;</A>
<B>:resize</B> <EM>width height </EM>[method] 
<UL><LI> changes the size of viewsurface by sending :resize message to the viewsurface
and :size message to viewport.
</UL>
<A NAME=19121>&#160;</A>
<B>:draw-line-ndc</B> <EM>p1 p2 &amp;optional (do-clip t) </EM>[method] 
<UL><LI> draws a line whose two end points <EM>p1, p2 are defined in NDC.
</UL>
<A NAME=19132>&#160;</A>
<B>:draw-polyline-ndc</B> <EM>polylines </EM>[method] 
<UL><LI> draws polylines whose end points are defined in NDC.
</UL>
<A NAME=19142>&#160;</A>
<B>:draw-star-ndc</B> <EM>center &amp;optional (size 0.01) </EM>[method] 
<UL><LI> draws a cross mark in NDC.
</UL>
<A NAME=19152>&#160;</A>
<B>:draw-box-ndc</B> <EM>low-left up-right </EM>[method] 
<UL><LI> draws a rectangle in NDC.
</UL>
<A NAME=19162>&#160;</A>
<B>:draw-arc-ndc</B> <EM>point width height angle1 angle2 [color] </EM>[method] 
<UL><LI> draws an arc in NDC.
The viewsurface object bound in this viewer must accept <B>:arc</B> message.
</UL>
<A NAME=19173>&#160;</A>
<B>:draw-fill-arc-ndc</B> <EM>point width height angle1 angle2 [color] </EM>[method] 
<UL><LI> draws a filled-arc in NDC.
</UL>
<A NAME=19183>&#160;</A>
<B>:draw-string-ndc</B> <EM>position string [color] </EM>[method] 
<UL><LI> draws <EM>string at <EM>position defined in NDC.
</UL>
<A NAME=19195>&#160;</A>
<B>:draw-image-string-ndc</B> <EM>position string [color] </EM>[method] 
<UL><LI> </UL>
<A NAME=19206>&#160;</A>
<B>:draw-rectangle-ndc</B> <EM>position width height [color] </EM>[method] 
<UL><LI> </UL>
<A NAME=19217>&#160;</A>
<B>:draw-fill-rectangle-ndc</B> <EM>point width height [color] </EM>[method] 
<UL><LI> </UL>
<A NAME=19228>&#160;</A>
<B>:draw-line</B> <EM>p1 p2 &amp;optional (do-clip t) </EM>[method] 
<UL><LI> draws a line whose two end points <EM>p1, p2 are defined in the world
coordinates.
</UL>
<A NAME=19239>&#160;</A>
<B>:draw-star</B> <EM>position &amp;optional (size 0.01) </EM>[method] 
<UL><LI> draws a cross at <EM>position located in the world.
</UL>
<A NAME=19250>&#160;</A>
<B>:draw-box</B> <EM>center &amp;optional (size 0.01) </EM>[method] 
<UL><LI> draws a rectangular at <EM>centerin the world.
</UL>
<A NAME=19261>&#160;</A>
<B>:draw-arrow</B> <EM>p1 p2 </EM>[method] 
<UL><LI> draws an arrow from <EM>p1 to <EM>p2.
</UL>
<A NAME=19273>&#160;</A>
<B>:draw-edge</B> <EM>edge </EM>[method] 
<UL><LI> </UL>
<A NAME=19284>&#160;</A>
<B>:draw-edge-image</B> <EM>edge-image </EM>[method] 
<UL><LI> </UL>
<A NAME=19295>&#160;</A>
<B>:draw-faces</B> <EM>face-list &amp;optional (normal-clip nil) </EM>[method] 
<UL><LI> </UL>
<A NAME=19306>&#160;</A>
<B>:draw-body</B> <EM>body &amp;optional (normal-clip nil) </EM>[method] 
<UL><LI> </UL>
<A NAME=19317>&#160;</A>
<B>:draw-axis</B> <EM>coordinates &amp;optional size </EM>[method] 
<UL><LI> draws coordinates axes whose length is <EM>size.
</UL>
<A NAME=19328>&#160;</A>
<B>:draw</B> <EM>&amp;rest things </EM>[method] 
<UL><LI> draws 3D geometric objects.
If the object is a 3D float-vector, a small cross is drawn at the position.
If it is a list of 3D float-vectors, it is taken as a polyline.
If <EM>thing accepts <TT>:draw</TT> message,
the method is invoked with this viewer as its argument.
If the object defines <TT>:drawners</TT> method,
the <B>:draw</B> message is sent to the result of <TT>:drawners</TT>.
<TT>Line, edge, polygon, face</TT>, and <TT>body</TT> objects are drawn
by corresponding <EM>:draw-xxx methods defined in viewer.
</UL>
<A NAME=19346>&#160;</A>
<B>:erase</B> <EM>&amp;rest things </EM>[method] 
<UL><LI> draws <EM>things with background color.
</UL>
<A NAME=19357>&#160;</A>
<B>:init</B> <EM>&amp;key :viewing :viewport :viewsurface </EM>[method] 
<UL><LI> sets <EM>viewing, viewport and <EM>viewsurface to <TT>eye, port</TT>,
and <TT>surface</TT> slots of this viewer.
</UL>
<A NAME=19371>&#160;</A>
<P> <IMG  ALIGN=BOTTOM ALT="emtabbing19372" SRC="img63.gif"  > <P>
<UL><LI> creates a new viewer and pushes it in *viewers* list.
</UL>
<P>
</EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM></EM><HR><A NAME="tex2html3543" HREF="node124.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html3541" HREF="node119.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html3535" HREF="node122.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html3545" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html3546" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3544" HREF="node124.html">Drawings</A>
<B>Up:</B> <A NAME="tex2html3542" HREF="node119.html">Viewing and Graphics</A>
<B> Previous:</B> <A NAME="tex2html3536" HREF="node122.html">Viewport</A>
<P><ADDRESS>
<I>Hirofumi Nakagaki <BR>
Tue Mar 19 19:45:39 JST 1996</I>
</ADDRESS>
</BODY>
</HTML>
