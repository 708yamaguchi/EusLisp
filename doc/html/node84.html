<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>Keyed Indexed Files</TITLE>
<META NAME="description" CONTENT="Keyed Indexed Files">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="manual.css">
</HEAD>
<BODY LANG="EN">
 <A NAME="tex2html3044" HREF="node85.html"><IMG WIDTH=37 HEIGHT=24 ALIGN=BOTTOM ALT="next" SRC="./icons/next_motif.gif"></A> <A NAME="tex2html3042" HREF="node76.html"><IMG WIDTH=26 HEIGHT=24 ALIGN=BOTTOM ALT="up" SRC="./icons/up_motif.gif"></A> <A NAME="tex2html3038" HREF="node83.html"><IMG WIDTH=63 HEIGHT=24 ALIGN=BOTTOM ALT="previous" SRC="./icons/previous_motif.gif"></A> <A NAME="tex2html3046" HREF="node1.html"><IMG WIDTH=65 HEIGHT=24 ALIGN=BOTTOM ALT="contents" SRC="./icons/contents_motif.gif"></A> <A NAME="tex2html3047" HREF="node153.html"><IMG WIDTH=43 HEIGHT=24 ALIGN=BOTTOM ALT="index" SRC="./icons/index_motif.gif"></A> <BR>
<B> Next:</B> <A NAME="tex2html3045" HREF="node85.html">Unix Processes</A>
<B>Up:</B> <A NAME="tex2html3043" HREF="node76.html">Unix System Calls</A>
<B> Previous:</B> <A NAME="tex2html3039" HREF="node83.html">IOCTL</A>
<BR> <P>
<H3><A NAME="SECTION04012800000000000000">Keyed Indexed Files</A></H3>
<P>
Recent Unix provides with the <EM>dbm</EM> or <EM>ndbm</EM> library
for the management of keyed index files.
Making use of this library, you can build a data base  that is composed
of many pairs  of key and datum association.
Following functions are defined in clib/ndbm.c.
On Sun, it should be compiled by <TT>cc -c -Dsun4 -Bstatic</TT>,
and loaded into EusLisp by <TT>(load &quot;clib/ndbm&quot; :ld-option &quot;-lc&quot;)</TT>.
<P>
<A NAME=12490>&#160;</A>
<B>dbm-open</B> <EM>dbname mode flag </EM>[function] 
<UL><LI> <B>Dbm-open</B> must be called first to create a data base file,
and to begin read/write operations to the data base.
<EM>Dbname is the name of the data base.
Actually, ndbm manager creates two files which have suffixes <TT>&quot;.pag&quot;</TT>
and <TT>&quot;.dir&quot;</TT>.
<EM>Mode</EM> specifies file-open mode; 0 for read-only access, 1 for write-only,
and 2 for read-write; also #x200 should be <EM>or</EM>ed when you create
the file  at the first time.
<EM>Flag</EM> gives access permission that is changed by chmod.
#o666 or #o664 is good for <EM>flag</EM>.
<B>Dbm-open</B> returns an integer that identifies the data base in the process.
This value is used by other dbm functions to identify the data base.
In other words, you can open several data bases at the same time.
</UL>
<A NAME=12509>&#160;</A>
<B>dbm-store</B> <EM>db key datum mode </EM>[function] 
<UL><LI> stores <EM>key-datum association in <EM>db</EM>.
<EM>Db</EM> is an integer to identify the data base.
<EM>Key and datum</EM> are strings.
<EM>Mode</EM> is 0 (insert) or 1 (replace).
</UL>
<A NAME=12524>&#160;</A>
<B>dbm-fetch</B> <EM>db key </EM>[function] 
<UL><LI> retrieves datum that is associated with <EM>key in <EM>db</EM>.
</UL>
<P>
</EM></EM></EM><BR> <HR>
<P><ADDRESS>
<I>Hirofumi Nakagaki <BR>
Tue Mar 19 19:45:39 JST 1996</I>
</ADDRESS>
</BODY>
</HTML>
